angular.module("hcLib",["camera","ngDialog","ui.bootstrap"]),angular.module("hcLib").directive("autoSuggest",function(){return{restrict:"E",template:"<div class='auto-suggest-container'><input ng-attr-type='{{options.fieldType}}' placeholder='{{options.placeHolder}}' autocomplete='off' name='{{options.fieldName}}' id='{{options.fieldID}}' ng-required='{{options.isRequired}}' class='form-field' ng-class='options.inputClass' ng-model='suggestModel' ng-keydown='inputKeyDown($event)' ng-blur='closeList()' ng-change='changeSuggestInput(suggestModel)'><button ng-if='clearable' class='auto-suggest-clear' ng-click='clearInput(true)'><i class='fa fa-times'></i></button><ul class='auto-suggest-list' ng-show='suggestList.length'><li tabindex='-1' ng-repeat='suggestion in suggestList track by $index' bind-html-compile='suggestionTemplate' ng-click='selectItem(suggestion)'></li></ul></div>",scope:{options:"=",template:"=",resultAs:"=",clearable:"=",outputModel:"=",suggestions:"=",searchKey:"@",displayKey:"@",onSelect:"&"},controller:["$scope","$filter","$timeout",function(r,i,t){function n(e){r.suggestModel="",r.outputModel=void 0,e&&$(r.ele).find("input.form-field").focus()}function a(e){r.initialized=!0,r.template?r.suggestionTemplate=r.template:"object"==typeof r.suggestions[0]?r.displayKey?r.suggestionTemplate="<span>{{suggestion."+r.displayKey+"}}</span>":r.suggestionTemplate="<span>{{suggestion.name}}</span>":r.suggestionTemplate="<span>{{suggestion}}</span>"}function o(e){r.displayKey?-1===r.displayKey.indexOf(".")&&(r.suggestModel=e[r.displayKey]):r.resultAs?r.suggestModel=e[r.resultAs]:r.suggestModel=e}r.clearable=void 0===r.clearable||r.clearable,r.init=a,r.changeSuggestInput=function(e){if(e){var t=e;r.searchKey&&(-1===r.searchKey.indexOf(".")?t=JSON.parse('{"'+r.searchKey+'":"'+e+'"}'):(searchKey=function(e,t){for(var i="",n="",a=r.searchKey.split("."),o=0;o<a.length;o++)i+='{"'+a[o]+'":',n+="}";return i+'"'+t+'"'+n}(r.searchkey,e),t=JSON.parse(searchKey))),r.suggestList=i("filter")(r.suggestions,t).slice(0,50)}},r.closeList=function(e){e?r.suggestList=[]:t(function(){$(r.ele).find("input.form-field").is(":focus")||(r.suggestList=[])},1e3)},r.selectItem=function(e){r.outputModel=e,r.closeList(!0),o(e),"function"==typeof r.onSelect&&r.onSelect({selected:e})},r.inputFocusLost=function(){r.closeList()},r.inputKeyDown=function(e){if(40===e.keyCode)r.changeSuggestInput(r.suggestModel),$(r.ele).find(".auto-suggest-list li").hasClass("focused")?$(r.ele).find(".auto-suggest-list li.focused").removeClass("focused").next().addClass("focused").focus():$(r.ele).find(".auto-suggest-list li:first-child").addClass("focused").focus(),$(e.currentTarget).focus(),e.preventDefault();else if(38==e.keyCode)r.changeSuggestInput(r.suggestModel),$(r.ele).find(".auto-suggest-list li").hasClass("focused")?$(r.ele).find(".auto-suggest-list li.focused").removeClass("focused").prev().addClass("focused").focus():$(r.ele).find(".auto-suggest-list li:last-child").addClass("focused").focus(),$(e.currentTarget).focus(),e.preventDefault();else if(27===e.keyCode)r.closeList();else if(13===e.keyCode){r.outputModel=void 0;var t=$(r.ele).find(".auto-suggest-list li").index($(r.ele).find(".auto-suggest-list li.focused"));-1!==t&&r.selectItem(r.suggestList[t]),e.preventDefault()}},r.clearInput=n,r.$watch("suggestions",function(e,t){e&&e.length&&(r.initialized||a())}),r.$watch("outputModel",function(e,t){e?o(e):n()})}],link:function(e,t,i){e.ele=$(t)}}}),angular.module("hcLib").directive("casesheet",function(){return{templateUrl:"src/casesheet/casesheet.tpl.html",scope:{opPatientData:"@",currentCaseSheet:"&",onSave:"&"},controller:["$scope","$http","casesheet",function(t,e,i){t.caseSheetEditable=!1,t.caseSheet={},t.opPatientObj=JSON.parse(t.opPatientData),t.caseSheet.patientOpId={},t.getOpPatietOldCaseSheet=function(){i.caseSheetList(t.opPatientObj.id).then(function(e){e.id?(t.caseSheet={},t.caseSheetEditable=!0):(t.caseSheet=e[0]||{},t.currentCaseSheet({patientCurrentCaseSheet:t.caseSheet}),t.caseSheetEditable=!1)})},t.editCaseSheet=function(){t.caseSheetEditable=!0},t.saveCaseSheet=function(){t.caseSheet.patientOpId=t.opPatientObj,i.save(t.caseSheet).then(function(e){e.id&&("function"==typeof t.onSave&&t.onSave(),t.caseSheet=e,t.currentCaseSheet({patientCurrentCaseSheet:t.caseSheet}),t.caseSheetEditable=!1)})},t.updateCaseSheet=function(e){i.save(t.caseSheet).then(function(e){e.id&&(t.caseSheet=e,t.currentCaseSheet({patientCurrentCaseSheet:t.caseSheet}),t.caseSheetEditable=!1)})},t.getOpPatietOldCaseSheet()}]}}),angular.module("hcLib").directive("companyForm",function(){return{restrict:"E",templateUrl:"src/company-form/company-form.tpl.html",controller:["$scope","companyService",function(t,i){t.saveCompany=function(e){i.save(e).then(function(e){t.company={},t.companyForm&&t.companyForm.$setPristine(),"function"==typeof t.onCreate&&t.onCreate({value:e}),"function"==typeof t.onSubmitCloseForm&&t.onSubmitCloseForm()})}}],scope:{options:"=",onCreate:"&",company:"=?",onSubmitCloseForm:"&"}}}),angular.module("hcLib").directive("complaint",function(){return{templateUrl:"src/complaint/complaint.tpl.html",scope:{patientOpId:"=",onModify:"=",onSelect:"&",onCheck:"&"},controller:["$scope","$http","complaintService",function(i,e,n){i.form={},i.complaint={},i.patientComplaints=[],i.getComplaintsListByPatientId=function(e){n.complaintMastersList(e).then(function(e){i.patientComplaints=e})},i.getComplaintsListByPatientId(i.patientOpId),i.setComplaint=function(e,t){e.patient={id:i.patientOpId},"new"===t&&(n.saveComplaint(e).then(function(e){e&&i.patientComplaints.push(e)}),i.complaint={},i.form.complaintForm.$setPristine()),i.showAddPopup&&i.toggleAddPopup()},i.selectComplaint=function(e){i.onSelect({selectedComplaint:e}),i.onCheck({state:!0})},i.toggleAddPopup=function(){i.showAddPopup=!i.showAddPopup}}]}}),angular.module("hcLib").directive("drugFormulaForm",function(){return{templateUrl:"src/drug-formula-form/drug-formula-form.tpl.html",controller:["$scope","drugFormulaService",function(t,i){t.saveDrugFormulae=function(e){i.save(e).then(function(e){t.drugFormulae={},t.drugFormulaForm&&t.drugFormulaForm.$setPristine(),"function"==typeof t.onCreate&&t.onCreate({drugFormulae:e}),"function"==typeof t.onSubmitCloseForm&&t.onSubmitCloseForm()})}}],scope:{options:"=",onCreate:"&",drugFormulae:"=?",onSubmitCloseForm:"&"}}}),angular.module("hcLib").directive("locationForm",function(){return{templateUrl:"src/location-form/location-form.tpl.html",controller:["$scope","locationService",function(t,i){t.saveMedicineLocation=function(e){i.save(e).then(function(e){t.location={},t.locationForm&&t.locationForm.$setPristine(),"function"==typeof t.onCreate&&t.onCreate({location:e}),"function"==typeof t.onSubmitCloseForm&&t.onSubmitCloseForm()})}}],scope:{options:"=",onCreate:"&",location:"=?",onSubmitCloseForm:"&"}}}),angular.module("hcLib").directive("medicineCategoryForm",function(){return{templateUrl:"src/medicine-category-form/medicine-category-form.tpl.html",controller:["$scope","medicineCategoryService",function(t,i){t.saveMedicineCategory=function(e){i.save(e).then(function(e){t.medicineCategory={},t.medicineCategoryForm&&t.medicineCategoryForm.$setPristine(),"function"==typeof t.onCreate&&t.onCreate({medicineCategory:e}),"function"==typeof t.onSubmitCloseForm&&t.onSubmitCloseForm()})}}],scope:{options:"=",onCreate:"&",medicineCategory:"=?",onSubmitCloseForm:"&"}}}),angular.module("hcLib").directive("medicineDoctorCategoryForm",function(){return{templateUrl:"src/medicine-doctor-category-form/medicine-doctor-category-form.tpl.html",controller:["$scope","medicineCategoryByDoctorService",function(t,i){t.saveMedicineCategoryByDoctor=function(e){i.save(e).then(function(e){t.medicineCategoryByDoctor={},t.medicineCategoryDoctorForm&&t.medicineCategoryDoctorForm.$setPristine(),"function"==typeof t.onCreate&&t.onCreate({categoryByDoctor:e}),"function"==typeof t.onSubmitCloseForm&&t.onSubmitCloseForm()})}}],scope:{options:"=",onCreate:"&",medicineCategoryByDoctor:"=?",onSubmitCloseForm:"&"}}}),angular.module("hcLib").directive("medicineForm",function(){return{templateUrl:"src/medicine-form/medicine-form.tpl.html",controller:["$scope","medicineService","companyService","drugFormulaService","medicineCategoryService","medicineCategoryByDoctorService","locationService","$timeout","$log",function(i,t,e,n,a,o,r,s,d){i.init=function(){i.getCompaniesList(),i.getDrugFormulaList(),i.getMedicineCategoryList(),i.getMedicineCategoryByDoctorList(),i.getMedicineLocationList()},i.getCompaniesList=function(){e.companiesList().then(function(e){e&&(i.companies=e)})},i.getDrugFormulaList=function(){n.drugFormulaeList().then(function(e){e&&(i.drugFormulae=e)})},i.getMedicineCategoryList=function(){a.medicineCategoryList().then(function(e){e&&(i.medicineCategories=e)})},i.getMedicineCategoryByDoctorList=function(){o.medicineCategoryByDoctorList().then(function(e){e&&(i.medicineCategoryByDoctor=e)})},i.getMedicineLocationList=function(){r.locationsList().then(function(e){e&&(i.medicineLocations=e)})},i.saveMedicine=function(e){t.save(e).then(function(e){i.medicine={},i.medicineForm&&i.medicineForm.$setPristine(),"function"==typeof i.onCreate&&i.onCreate({medicine:e}),"function"==typeof i.onSubmitCloseForm&&i.onSubmitCloseForm()},function(e){d.error(e)})},i.$on("$companyCreate",function(e,t){i.companies.push(t)}),i.$on("$drugCreate",function(e,t){i.drugFormulae.push(t)}),i.$on("$medicineCategoryCreate",function(e,t){i.medicineCategories.push(t)}),i.$on("$medicineCategoryByDoctorCreate",function(e,t){i.medicineCategoryByDoctor.push(t)}),i.$on("$medicineLocationCreate",function(e,t){i.medicineLocations.push(t)}),i.openCompanyForm=function(){"function"==typeof i.onCompanyOpen&&i.onCompanyOpen()},i.openDrugFormulaForm=function(){"function"==typeof i.onDrugFormulaOpen&&i.onDrugFormulaOpen()},i.openCategoryForm=function(){"function"==typeof i.onCategoryOpen&&i.onCategoryOpen()},i.openDoctorCategoryForm=function(){"function"==typeof i.onDoctorCategoryOpen&&i.onDoctorCategoryOpen()},i.openLocationForm=function(){"function"==typeof i.onLocationOpen&&i.onLocationOpen()},i.functionToEnableButton=function(){return s(angular.noop,5e3)},i.init()}],scope:{options:"=",medicine:"=",onCreate:"&",onCompanyOpen:"&",onDrugFormulaOpen:"&",onCategoryOpen:"&",onDoctorCategoryOpen:"&",onLocationOpen:"&",onSubmitCloseForm:"&"}}}),angular.module("hcLib").directive("opPatientForm",function(){function e(r,e,s,t,i,d,n){function a(){n.getOpTypes().then(function(e){r.opTypes=e,r.defOpPatient.opType=r.opTypes[0],r.opPatient=angular.copy(r.defOpPatient),r.setOPCost()})}function l(){s.save(r.opPatient).then(function(e){i.go("opPatientSearch",{opId:r.op.id})})}r.onSelectPatient=function(e){document.querySelector("[ng-model = 'suggestModel']").value=e.name,r.opPatient&&(r.opPatient.patient=angular.copy(e));r.checkPatientStatus(e)},r.onPatientAdd=function(e){document.querySelector("[ng-model = 'suggestModel']").value=e.name,r.opPatient&&(r.opPatient.patient=angular.copy(e));r.checkPatientStatus(e)},r.addOpPatient=function(e){if("New Card"===r.opPatient.cardNo){var t=d("opPatient.opType.id")(r),i=d("opPatient.opSubType.id")(r),n=d("opConfig.costs["+t+"]["+i+"]")(r);if(n){var a=d("opPatient.patient.id")(r);if(a&&!r.opConfig.free.includes(i)){var o={patient:{id:a},opTypeId:t,opSubTypeId:i,validity:n.validity};s.createPatientCard(o).then(function(e){r.opPatient.cardNo=e.id,l()})}else l()}else l()}else l();var o={patient:{id:e.patient.id},opTypeId:e.opType.id,opSubTypeId:e.opSubType.id};s.createPatientCard(o).then(function(e){l()})},r.getOpType=a,r.functionToEnableButton=function(){return e(angular.noop,5e3)},r.opTypes=[],r.opConfig={},t.get(r.opId).then(function(e){r.op=e,r.defOpPatient={patient:{},op:{id:e.id}},a(),n.getOpSubTypes().then(function(e){r.opSubTypes=e,r.defOpPatient.opSubType=r.opSubTypes[0],r.opPatient=angular.copy(r.defOpPatient),r.setOPCost()})}),r.opConfig=angular.copy(OP_COST_CONFIG),r.checkPatientStatus=function(i){var n=void 0;r.opPatientIsExist="",r.opPatient.patient&&(r.opPatient.patient.patientName=""),s.getOpPatientsListByOptions({op:{id:r.opId}}).then(function(e){r.opPatientList=e;for(var t=0;t<e.length;t++)if(r.opPatientList[t].patient.id==i.id){n=r.opPatientList[t],r.opPatientIsExist=r.opPatientList[t].patient.name+" Already added to OP.";break}r.opPatientIsExist||r.setOPCost()}),null==n&&(r.opPatientIsExist="",r.patient=i,r.opPatient.patient=r.patient)},r.setOPCost=function(){var e=d("opPatient.opType.id")(r),t=d("opPatient.opSubType.id")(r),i=d("opConfig.costs["+e+"]["+t+"]")(r);if(i){r.opPatient.consultFee=i.cost;var n=d("opPatient.patient.id")(r);if(n&&!r.opConfig.free.includes(t)){var a={patient:{id:n},opTypeId:e,opSubTypeId:t,validity:i.validity};s.getOrCreatePatientCard(a).then(function(e){if(e){r.opPatient.cardNo=e.id;var t=d("opConfig.costs["+e.opTypeId+"]["+e.opSubTypeId+"].cost")(r);r.opPatient.consultFee=0<i.cost-t?i.cost-t:0}else r.opPatient.cardNo="New Card"})}}}}return e.$inject=["$scope","$timeout","opPatientService","opService","$state","$parse","commonService"],{restrict:"E",scope:{op:"=",opId:"="},controller:e,templateUrl:"src/op-patient-form/op-patient-form.tpl.html"}}),angular.module("hcLib").directive("patientForm",function(){function e(t,e,i,n){function a(){t.form={},t.genderTypes=GENDERS,t.relationTypes=RELATIONS,t.form={patientForm:{}},t.form.patientForm.$pristine=!0,t.patient?t.patient=t.patient||{}:(t.gender=t.genderTypes[0],t.relationType=t.relationTypes[1])}t.addPatient=function(){e.save(t.patient).then(function(e){t.onSubmit({$patient:e}),i.close(i.latestID)})},t.getAgeFromDob=getAgeFromDob,t.getDateFromAge=getDateFromAge,t.init=a,t.getAgeFromDob=function(e){t.patient.age=getAgeFromDob(e)},t.getDateFromAge=function(e){t.patient.dob=getDateFromAge(e)},a()}return e.$inject=["$scope","patientService","ngDialog","$parse"],{restrict:"E",scope:{patient:"=?",onSubmit:"&"},controller:e,templateUrl:"src/patient-form/patient-form.tpl.html"}}),angular.module("hcLib").service("casesheet",["httpService",function(t){this.save=function(e){return t.post("casesheet/saveorupdate",e)},this.caseSheetList=function(e){return t.get("casesheet/search",{opPatientId:e})}}]),angular.module("hcLib").service("commonService",["httpService",function(t){this.createDoctor=function(e){return t.post("common/doctor/create",e)},this.getDoctors=function(){return t.get("common/doctor/list")},this.getDoctorByUserId=function(e){return t.get("common/doctor/user/"+e)},this.getOpTypes=function(){return t.get("common/optype/list")},this.getOpSubTypes=function(){return t.get("common/opsubtype/list")},this.getLabData=function(){return t.get("common/lab/lab-data")},this.getLabReportData=function(){return t.get("common/lab/lab-report-data")},this.getLabTestNotes=function(){return t.get("common/lab/lab-test-notes")},this.getRequisitionSlip=function(){return t.get("common/lab/requisition-slip")}}]),angular.module("hcLib").service("companyService",["httpService",function(t){this.save=function(e){return t.post("company/saveorupdate",e)},this.companiesList=function(){return t.get("company/list")}}]),angular.module("hcLib").service("complaintService",["httpService",function(t){this.saveComplaint=function(e){return t.post("complaint/save",e)},this.saveComplaintTransation=function(e){return t.post("complaint/transact/saveorupdate",e)},this.complaintMastersList=function(e){return t.get("complaint/search",{patientId:e})},this.complaintTransactList=function(e){return t.get("complaint/transact/search",{opPatientId:e})}}]),angular.module("hcLib").service("drugFormulaService",["httpService",function(t){this.save=function(e){return t.post("drugFormulae/saveorupdate",e)},this.drugFormulaeList=function(){return t.get("drugFormulae/list")}}]),angular.module("hcLib").provider("httpService",function(){var s="";try{s=location.href.split("/")[3]}catch(e){s=""}this.setBasePath=function(e){s=e},this.$get=["$http","$q",function(i,n){return{get:a.bind(null,"GET"),del:a.bind(null,"DELETE"),put:e.bind(null,"PUT"),post:e.bind(null,"POST"),upload:function(e,t,i,n,a){return r({url:t=o(t,n,a),method:e,data:i,transformRequest:angular.identity,headers:{"Content-Type":void 0}})}.bind(null,"POST"),getJSON:function(e,t,i){return i&&localStorage.getItem(i)?n.when(null).then(function(){var e=localStorage.getItem(i);return JSON.parse(e)}):a(e,t).then(function(e){return localStorage.setItem(i,e.json),e})}.bind(null,"GET")};function a(e,t,i,n){return r({method:e,url:t=o(t,i,n)})}function e(e,t,i,n,a){return r({method:e,url:t=o(t,n,a),data:i})}function o(e,t,i){return t&&(e+="?"+toURLParams(t,i)),"/"+s+"/"+e}function r(e){var t=n.defer();return i(e).success(function(e){e.isSuccess?t.resolve(e.response):t.reject(e)}).error(function(e){t.reject(e)}),t.promise}}]}),angular.module("hcLib").service("labPatientService",["httpService",function(i){this.save=function(e){return i.post("labpatient/save",e)},this.search=function(e){return i.get("labpatient/get",e)},this.saveReport=function(e){return i.post("labpatient/report/save",e)},this.getReport=function(e){return i.get("labpatient/report/get/"+e)},this.savePayment=function(e){return i.post("labpatient/payment/save",e)},this.getPayments=function(e){return i.get("labpatient/get/payments/"+e)},this.uploadReport=function(e,t){return i.upload("labpatient/uploadreport/"+e,t)}}]),angular.module("hcLib").service("locationService",["httpService",function(t){this.save=function(e){return t.post("location/saveorupdate",e)},this.locationsList=function(){return t.get("location/list")}}]),angular.module("hcLib").service("loginService",["httpService",function(t){this.login=function(e){return t.post("auth/login",e)},this.sessionUser=function(){return t.get("auth/sessionuser")}}]),angular.module("hcLib").service("medicineCategoryService",["httpService",function(t){this.save=function(e){return t.post("medicinecategory/saveorupdate",e)},this.medicineCategoryList=function(){return t.get("medicinecategory/list")}}]),angular.module("hcLib").service("medicineCategoryByDoctorService",["httpService",function(t){this.save=function(e){return t.post("medicinecategorybydoctor/saveorupdate",e)},this.medicineCategoryByDoctorList=function(){return t.get("medicinecategorybydoctor/list")}}]),angular.module("hcLib").service("medicineService",["httpService",function(t){this.save=function(e){return t.post("medicine/saveorupdate",e)},this.medicinesList=function(e){return t.get("medicine/list",{id:e})},this.medicineViewList=function(e){return t.get("medicine/listbyoptions",e)}}]),angular.module("hcLib").service("opPatientService",["httpService",function(t){this.save=function(e){return t.post("oppatient/createorupdate",e)},this.getOpPatientsListByOptions=function(e){return t.post("oppatient/listbyoptions",e)},this.getOpPatientByPatientId=function(e){return t.get("oppatient/getoppatientbyid/"+e)},this.getOpPatientCountWithStatusByOpId=function(e){return t.get("oppatient/statuscount/"+e)},this.getOrCreatePatientCard=function(e){return t.post("oppatient/patient-card",e)},this.createPatientCard=function(e){return t.post("oppatient/patient-card/new",e)}}]),angular.module("hcLib").service("opPrescriptionService",["httpService",function(t){this.save=function(e){return t.post("opprescription/saveorupdate",e)},this.searchPurchaseMedicines=function(e){return t.get("opprescription/medicine-search",e)},this.opPrescriptionList=function(e){return t.get("opprescription/list",e)}}]),angular.module("hcLib").service("opService",["httpService",function(t){this.create=function(e){return t.post("op/create",e)},this.search=function(e){return t.post("op/op-list",e)},this.get=function(e){return t.get("op/get/"+e)},this.statusList=function(e){return t.get("op/op-status-list",{date:e})},this.configCreate=function(e){return t.post("op/config/create",e)},this.configList=function(){return t.get("op/config/list")}}]),angular.module("hcLib").service("patientService",["httpService",function(t){this.save=function(e){return t.post("patient/saveorupdate",e)},this.patientsListByOptions=function(e){return t.get("patient/listbyoptions",e)},this.imageData=function(e){return t.get("patient/getphoto",e)}}]),angular.module("hcLib").service("purchasebillMedicineService",["httpService",function(t){this.purchaseBillMedicines=function(e){return t.get("purchasebillmedicine/search",e)},this.alertInfo=function(e){return t.get("purchasebillmedicine/alertinfo",e)},this.pendingBillMedicines=function(e){return t.get("purchasebillmedicine/pendingbills",{billId:e})}}]),angular.module("hcLib").service("purchasebillService",["httpService",function(i){this.createPurchaseBill=function(e){return i.post("purchasebill/save",e)},this.purchaseBillById=function(e){return i.get("purchasebill/get/"+e)},this.purchaseBillsListByOptions=function(e){return i.get("purchasebill/search",e)},this.purchaseTotal=function(e){return i.get("purchasebill/total",e)},this.createPurchaseBillPayment=function(e){return i.post("purchasebill/payment/save",e)},this.purchaseBillPaymentList=function(e){return i.get("purchasebill/payment/search",e)},this.createPurchaseBillReturn=function(e){return i.post("purchasebill/return/save",e)},this.purchaseReturns=function(e){return i.get("purchasebill/returns/get",e)},this.purchaseReturnMedicines=function(e){return i.get("purchasebill/return/medicines/get",e)},this.uploadPurchaseBill=function(e,t){return i.post("purchasebill/upload/"+t,e)}}]),angular.module("hcLib").service("reportsService",["httpService",function(t){this.salesReports=function(e){return t.get("reports/sales/bills",e)},this.salesReturnReports=function(e){return t.get("reports/sales/returns",e)},this.salesPaymentReports=function(e){return t.get("reports/sales/payments",e)},this.paymentReports=function(e){return t.post("reports/payments",e)},this.purchaseReports=function(e){return t.get("reports/purchase",e)},this.salesTransactions=function(e){return t.get("reports/salesTransactions",e)},this.purchaseTransactions=function(e){return t.get("reports/purchaseTransactions",e)},this.paymentTransactionsByDateRange=function(e){return t.post("reports/create",e)},this.adjustMrpByDateRange=function(e){return t.post("reports/adjustMrp",e)},this.adjustUnitsOrAvailability=function(e){return t.post("reports/adjustunitsoravailability",e)},this.salesPayments=function(e){return t.get("reports/salesPayments",e)}}]),angular.module("hcLib").service("representativeService",["httpService",function(t){this.save=function(e){return t.post("representative/saveorupdate",e)},this.representativesList=function(){return t.get("representative/list")}}]),angular.module("hcLib").service("salesbillService",["httpService",function(n){this.create=function(e){return n.post("salesbill/save",e)},this.salesBillsListByOptions=function(e){return n.get("salesbill/list",e)},this.salesAmount=function(e){return n.get("salesbill/total",e)},this.medicineSearch=function(e){return n.get("salesbill/medicines/search",e)},this.createSalesBillPayment=function(e){return n.post("salesbill/payment/save",e)},this.paymentsList=function(e){return n.get("salesbill/payment/search",{billId:e})},this.createSalesBillReturn=function(e){return n.post("salesbill/return/save",e)},this.returnsList=function(e){return n.get("salesbill/return/search",e)},this.prescriptionsList=function(e){return n.get("salesbill/prescription/search",e)},this.savePrescriptionSale=function(e,t,i){return n.post("salesbill/prescription/save/"+t+"?isResale="+(i||!1),e)},this.createPrescriptionSale=function(e){return n.post("salesbill/prescription/add",e)},this.salesReturnTotal=function(e){return n.get("salesbill/returns/total",e)},this.generateInvoiceNum=function(){return n.get("salesbill/generateinvoicenum")}}]),angular.module("hcLib").service("supplierService",["httpService",function(t){this.save=function(e){return t.post("supplier/saveorupdate",e)},this.suppliersList=function(){return t.get("supplier/list")}}]),angular.module("hcLib").run(["$templateCache",function(e){e.put("src/casesheet/casesheet.tpl.html",'<style>.margin-bottom{\r\n\t\tmargin-bottom:0px !important;\r\n\t}\r\n\t.casesheet-min-height{\r\n\t\t    min-height: 86.5vh;\r\n\t}\r\n\t.bordered-bottom{\r\n\t\tborder-bottom:2px solid lightgrey;\r\n\t}\r\n\t.grade-linear{\r\n\t    background-image: repeating-linear-gradient(-45deg, transparent, transparent 1px, #ddd 4px);\r\n\t}\r\n\t.wrap-word{ \r\n\t word-wrap: break-word;\r\n\t}\r\n\t\r\n\t.color-bg-fields{\r\n\t\t background-color: rgba(172, 219, 241, 0.19);\r\n\t}</style><div><div class="row no-padding card card-full-height-84 vertical-scroll" ng-if="!caseSheetEditable"><div class="row bordered-bottom"><div class="grid-md-8 font-18"><strong>CaseSheet</strong></div><div class="grid-md-4"><button type="button" class="btn btn-md btn-normal btn-info pull-right" ng-click="editCaseSheet()">Edit</button></div></div><div class="row"><div class="row"><div class="grid-md-12 font-14"><strong>Chief Complaint:</strong></div><div class="grid-md-1"></div><div class="grid-md-10 wrap-word color-bg-fields">{{caseSheet.chiefComplaint}}</div></div></div><div class="row"><div class="row"><div class="grid-md-12 font-14"><strong>Present Illness:</strong></div><div class="grid-md-1"></div><div class="grid-md-10 wrap-word color-bg-fields">{{caseSheet.presentIllNess}}</div></div></div><div class="row"><div class="row"><div class="grid-md-12 font-14"><strong>Past Illness:</strong></div><div class="grid-md-1"></div><div class="grid-md-10 wrap-word color-bg-fields">{{caseSheet.pastIllNess}}</div></div></div><div class="row"><div class="row"><div class="grid-md-12 font-14"><strong>Family History:</strong></div><div class="grid-md-1"></div><div class="grid-md-10 wrap-word color-bg-fields">{{caseSheet.familyHistory}}</div></div></div><div class="row"><div class="row"><div class="grid-md-12 font-14"><strong>General Examination:</strong></div><div class="grid-md-1"></div><div class="grid-md-10 wrap-word color-bg-fields">{{caseSheet.genExamination}}</div></div></div><div class="row"><div class="row"><div class="grid-md-12 font-14"><strong>Pro Diagnosis:</strong></div><div class="grid-md-1"></div><div class="grid-md-10 wrap-word color-bg-fields">{{caseSheet.proDiagnosis}}</div></div></div></div><div class="row card no-padding card-full-height-86 vertical-scroll" ng-if="caseSheetEditable"><div class="grid-md-2"></div><div class="grid-md-8"><div class="font-18 bordered-bottom mar-bottom-2"><strong>CaseSheet</strong></div><form name="caseSheetForm"><div class="row no-padding"><label class="grid-md-12 font-14"><strong>Chief Complaint:</strong></label><div class="grid-md-12"><textarea rows="4" cols="200" class="form-field grid-md-12 no-padding margin-bottom font-15" ng-model="caseSheet.chiefComplaint"></textarea></div></div><div class="row no-padding"><label class="grid-md-12 font-14"><strong>Present Illness:</strong></label><div class="grid-md-12"><textarea rows="4" cols="200" class="form-field grid-md-12 no-padding margin-bottom font-15" ng-model="caseSheet.presentIllNess"></textarea></div></div><div class="row no-padding"><label class="grid-md-12 font-14"><strong>Past Illness:</strong></label><div class="grid-md-12"><textarea rows="4" cols="200" class="form-field grid-md-12 no-padding margin-bottom font-15" ng-model="caseSheet.pastIllNess"></textarea></div></div><div class="row no-padding"><label class="grid-md-12 font-14"><strong>Family History:</strong></label><div class="grid-md-12"><textarea rows="4" cols="200" class="form-field grid-md-12 no-padding margin-bottom font-15" ng-model="caseSheet.familyHistory"></textarea></div></div><div class="row no-padding"><label class="grid-md-12 font-14"><strong>General Examination:</strong></label><div class="grid-md-12"><textarea rows="4" cols="200" class="form-field grid-md-12 no-padding margin-bottom font-15" ng-model="caseSheet.genExamination"></textarea></div></div><div class="row no-padding"><label class="grid-md-12 font-14"><strong>Pro Diagnosis:</strong></label><div class="grid-md-12"><textarea rows="4" cols="200" class="form-field grid-md-12 no-padding margin-bottom font-15" ng-model="caseSheet.proDiagnosis"></textarea></div></div></form><div class="row no-padding"><div class="grid-md-12"><button type="submit" ng-if="caseSheet.id" class="btn btn-green bnt-md pull-right margin-bottom" ng-click="updateCaseSheet(caseSheet)">Update</button> <button type="submit" ng-if="!caseSheet.id" class="btn btn-purple bnt-lg pull-right margin-bottom" ng-click="saveCaseSheet(caseSheet)">Add Case Sheet</button></div></div></div></div></div>'),e.put("src/company-form/company-form.tpl.html",'<form name="companyForm" novalidate><div class="row"><label class="grid-md-4" for="companyCode">Company Code</label><div class="grid-md-8 no-padding"><input id="companyCode" class="form-field grid-md-12" name="companyCode" placeholder="Company Code" ng-model="company.code" required> <span class="error-msg" ng-messages="companyForm.companyCode.$error"><span ng-message="required">Code is Required.</span></span></div></div><div class="row"><label class="grid-md-4" for="companyName">Company Name</label><div class="grid-md-8 no-padding"><input id="companyName" class="form-field grid-md-12" name="companyName" placeholder="Company Name" ng-model="company.name" required> <span class="error-msg" ng-messages="companyForm.companyName.$error"><span ng-message="required">Name is Required.</span></span></div></div><div class="row"><label class="grid-md-4" for="companyShortName">Company Short Name</label><div class="grid-md-8 no-padding"><input id="companyShortName" class="form-field grid-md-12" name="companyShortName" placeholder="Company Short Name" ng-model="company.shortName" required> <span class="error-msg" ng-messages="companyForm.companyShortName.$error"><span ng-message="required">Short Name is Required.</span></span></div></div><div class="row"><label class="grid-md-4" for="companyCity">Company City</label><div class="grid-md-8 no-padding"><input id="companyCity" class="form-field grid-md-12" name="companyCity" placeholder="Company City" ng-model="company.city" required> <span class="error-msg" ng-messages="companyForm.companyCity.$error"><span ng-message="required">City is Required.</span></span></div></div><div class="row"><label class="grid-md-4" for="companyPhoneNo">Company Phone No</label><div class="grid-md-8 no-padding"><input id="companyPhoneNo" class="form-field grid-md-12" name="companyPhoneno" placeholder="Company Phone No" ng-model="company.phoneNo" ng-pattern="/^[0-9]{10,10}$/" ng-maxlength="10" maxlength="10" required> <span class="error-msg" ng-messages="companyForm.companyPhoneno.$error"><span ng-message="required">Phoneno is Required.</span> <span ng-message="pattern">Phoneno is Number.</span></span></div></div><div class="row" ng-if="!company.id"><label class="grid-md-4"></label><button class="btn btn-light-green btn-normal" ng-disabled="companyForm.$invalid" name="companyFormBtn" ng-click="saveCompany(company)">Submit</button></div></form>'),e.put("src/complaint/complaint.tpl.html",'<style>.not-found-alert{\r\n\t    padding-left: 10px !important;\r\n\t    padding-top: 5px !important;\r\n\t    color: red;\r\n\t}\r\n\t.text-bold{\r\n\t\tfont-weight:bold;\r\n\t}\r\n\t.overlay-height{\r\n\t\theight:820px;\r\n\t}\r\n\t.text-left{\r\n\t\ttext-align:cetner;\r\n\t}</style><div class="row card card-full-height-86"><div class="grid-md-12 pull-right"><div class="tc-panel grid-md-12 no-padding relative"><div class="tc-panel-heading">Complaint <button class="btn btn-sm btn-sky-blue pull-right" ng-click="toggleAddPopup()">Add Complaint</button></div><div class="overlay card-full-height-86 absolute" ng-class="{\'show\':showAddPopup}" ng-click="toggleAddPopup()"></div><div class="popup absolute grid-md-11 no-min-height padding-15" ng-class="{\'show\':showAddPopup}"><form name="form.complaintForm" novalidate><div class="row"><label class="grid-md-4" for="shortName">Short Name</label><div class="grid-md-8 no-padding"><input id="shortName" class="form-field grid-md-12" name="shortName" placeholder="Short Name" ng-model="complaint.comShortName" required> <span class="error-msg" ng-messages="complaintForm.shortName.$error"><span ng-message="required" class="ng-scope">Short Name is Required.</span></span></div></div><div class="row"><label class="grid-md-4" for="description">Description</label><div class="grid-md-8 no-padding"><input id="description" class="form-field grid-md-12" name="description" placeholder="Description" ng-model="complaint.comDesc" required> <span class="error-msg" ng-messages="complaintForm.description.$error"><span ng-message="required" class="ng-scope">Description is Required.</span></span></div></div></form><div class="row"><label class="grid-md-4"></label><button class="btn btn-sm btn-light-green" name="complaintFormBtn" ng-disabled="form.complaintForm.$invalid" ng-click="setComplaint(complaint,\'new\')">Submit</button></div></div></div><table class="table"><tr><th>S.No</th><th>Complaint</th><th>Description</th><th>Date</th><th>Actions</th></tr><tr ng-repeat="complaint in patientComplaints" ng-if="patientComplaints.length"><td>{{$index+1}}</td><td>{{complaint.comShortName}}</td><td>{{complaint.comDesc}}</td><td>{{complaint.createdOn |date:\'dd-MM-yyyy\'}}</td><td><button class="btn btn-sm btn-rounded btn-light-green font-11" title="Select Complaint" ng-click="selectComplaint(complaint)"><i class="fa fa-check"></i></button></td></tr><tr ng-if="!patientComplaints.length"><td colspan="5" class="not-found-alert text-bold">No Complaints Found.</td></tr></table></div></div>'),e.put("src/drug-formula-form/drug-formula-form.tpl.html",'<form name="drugFormulaForm" novalidate><div class="row"><label class="grid-md-4" for="drugCode">Drug Code</label><div class="grid-md-8 no-padding"><input id="drugCode" class="form-field grid-md-12" name="drugCode" placeholder="Drug Code" ng-model="drugFormulae.code" required> <span class="error-msg" ng-messages="drugFormulaForm.drugCode.$error"><span ng-message="required">Code is Required.</span></span></div></div><div class="row"><label class="grid-md-4" for="hsnCode">HSN Code</label><div class="grid-md-8 no-padding"><input id="hsnCode" class="form-field grid-md-12" name="hsnCode" placeholder="HSN Code" ng-model="drugFormulae.hsnCode" required> <span class="error-msg" ng-messages="drugFormulaForm.hsnCode.$error"><span ng-message="required">HSN Code is Required.</span></span></div></div><div class="row"><label class="grid-md-4" for="drugName">Drug Name</label><div class="grid-md-8 no-padding"><input id="drugName" class="form-field grid-md-12" name="drugName" placeholder="Drug Name" ng-model="drugFormulae.name" required> <span class="error-msg" ng-messages="drugFormulaForm.drugName.$error"><span ng-message="required">Name is Required.</span></span></div></div><div class="row"><label class="grid-md-4" for="drugContent">Drug Content</label><div class="grid-md-8 no-padding"><input id="drugContent" class="form-field grid-md-12" name="drugContent" placeholder="Drug Content" ng-model="drugFormulae.drugContent" required> <span class="error-msg" ng-messages="drugFormulaForm.drugContent.$error"><span ng-message="required">Content is Required.</span></span></div></div><div class="row"><label class="grid-md-4" for="medicineAlertCount">Medicine Min Count</label><div class="grid-md-8 no-padding"><input id="medicineAlertCount" class="form-field grid-md-12" ng-pattern="/^[0-9]*$/" name="medicineMinCount" placeholder="Medicine Min Count" ng-model="drugFormulae.minCount" required> <span class="error-msg" ng-messages="drugFormulaForm.medicineMinCount.$error"><span ng-message="required">Min Count is Required.</span> <span ng-message="pattern">Min Count is Number.</span></span></div></div><div class="row"><label class="grid-md-4" for="medicineAlertCount">Medicine Max Count</label><div class="grid-md-8 no-padding"><input id="medicineAlertCount" class="form-field grid-md-12" ng-pattern="/^[0-9]*$/" name="medicineMaxCount" placeholder="Medicine Max Count" ng-model="drugFormulae.maxCount" required> <span class="error-msg" ng-messages="drugFormulaForm.medicineMaxCount.$error"><span ng-message="required">Max Count is Required.</span> <span ng-message="pattern">Max Count is Number.</span></span></div></div><div class="row" ng-if="!drugFormulae.id"><label class="grid-md-4"></label><button class="btn btn-light-green btn-normal" ng-disabled="drugFormulaForm.$invalid" name="drugFormulaFormBtn" ng-click="saveDrugFormulae(drugFormulae)">Submit</button></div></form>'),e.put("src/location-form/location-form.tpl.html",'<form name="locationForm" novalidate><div class="row"><label class="grid-md-4" for="medicineLocationName">Medicine Location Name</label><div class="grid-md-8 no-padding"><input id="medicineLocationName" class="form-field grid-md-12" name="locationName" placeholder="Medicine Location Name" ng-model="location.location" required> <span class="error-msg" ng-messages="locationForm.locationName.$error"><span ng-message="required">Location is Required.</span></span></div></div><div class="row" ng-if="!location.id"><label class="grid-md-4"></label><button class="btn btn-light-green btn-normal" ng-disabled="locationForm.$invalid" ng-click="saveMedicineLocation(location)">Submit</button></div></form>'),e.put("src/medicine-category-form/medicine-category-form.tpl.html",'<form name="medicineCategoryForm" novalidate><div class="row"><label class="grid-md-4" for="medicineCategoryName">Medicine Category Name</label><div class="grid-md-8 no-padding"><input id="medicineCategoryName" class="form-field grid-md-12" name="medicineCategoryName" placeholder="Medicine CategoryName" ng-model="medicineCategory.category" required> <span class="error-msg" ng-messages="medicineCategoryForm.medicineCategoryName.$error"><span ng-message="required">Category is Required.</span></span></div></div><div class="row" ng-if="!medicineCategory.id"><label class="grid-md-4"></label><button class="btn btn-light-green btn-normal" ng-disabled="medicineCategoryForm.$invalid" name="medicineCategoryFormBtn" ng-click="saveMedicineCategory(medicineCategory)">Submit</button></div></form>'),e.put("src/medicine-doctor-category-form/medicine-doctor-category-form.tpl.html",'<form name="medicineCategoryDoctorForm" novalidate><div class="row"><label class="grid-md-4" for="medicineDoctorName">Medicine Doctor Category</label><div class="grid-md-8 no-padding"><input id="medicineDoctorName" class="form-field grid-md-12" placeholder="Medicine Doctor Category Name" name="medicineDoctorName" ng-model="medicineCategoryByDoctor.categoryName" required> <span class="error-msg" ng-messages="medicineCategoryDoctorForm.medicineDoctorName.$error"><span ng-message="required">Medicine Doctor Category is Required.</span></span></div></div><div class="row" ng-if="!medicineCategoryByDoctor.id"><label class="grid-md-4"></label><button class="btn btn-light-green btn-normal" ng-disabled="medicineCategoryDoctorForm.$invalid" name="medicineCategoryDoctorFormBtn" ng-click="saveMedicineCategoryByDoctor(medicineCategoryByDoctor)">Submit</button></div></form>'),e.put("src/medicine-form/medicine-form.tpl.html",'<form name="medicineForm" novalidate><div class="row"><label class="grid-md-4" for="medicineCode">Medicine Code</label><div class="grid-md-8 no-padding"><input id="medicineCode" class="form-field grid-md-12" name="medicineCode" placeholder="Medicine Code" ng-model="medicine.code" required> <span class="error-msg" ng-messages="medicineForm.medicineCode.$error"><span ng-message="required">Code is Required.</span></span></div></div><div class="row"><label class="grid-md-4" for="medicineName">Medicine Name</label><div class="grid-md-8 no-padding"><input id="medicineName" class="form-field grid-md-12" name="medicineName" placeholder="Medicine Name" ng-model="medicine.name" required> <span class="error-msg" ng-messages="medicineForm.medicineName.$error"><span ng-message="required">Name is Required.</span></span></div></div><div class="row"><label class="grid-md-4" for="medicineNoOfUnits">No Of Units</label><div class="grid-md-8 no-padding"><input id="medicineNoOfUnits" class="form-field grid-md-12" name="medicineNoOfUnits" placeholder="No Of Units" ng-model="medicine.noOfUnits" ng-pattern="/^[0-9]*$/" required> <span class="error-msg" ng-messages="medicineForm.medicineNoOfUnits.$error"><span ng-message="required">No Of Units is Required.</span> <span ng-message="pattern">No Of Units is Number.</span></span></div></div><div class="row"><label class="grid-md-4" for="medicinePurchasePacking">Purchase Packing</label><div class="grid-md-8 no-padding"><input id="medicinePurchasePacking" class="form-field grid-md-12" name="medicinePurchasePacking" placeholder="Purchase Packing" ng-model="medicine.purchasePacking" required> <span class="error-msg" ng-messages="medicineForm.medicinePurchasePacking.$error"><span ng-message="required">Purchase Packing is Required.</span></span></div></div><div class="row"><label class="grid-md-4" for="medicineSchedule">Medicine Schedule</label><div class="grid-md-8 no-padding"><input id="medicineSchedule" class="form-field grid-md-12" name="medicineSchedule" placeholder="Medicine Schedule" ng-model="medicine.schedule" required> <span class="error-msg" ng-messages="medicineForm.medicineSchedule.$error"><span ng-message="required">Schedule is Required.</span></span></div></div><div class="row"><label class="grid-md-4" for="company">Company</label><div class="grid-md-8 no-padding"><div class="grid-md-11 pull-left"><auto-suggest suggestions="companies" class="grid-md-12" clearable="false" search-key="name" output-model="medicine.company" display-key="name" options="{\'inputClass\':\'grid-md-12\',\'placeHolder\':\'Company\',\'fieldName\':\'companyName\',\'isRequired\':\'true\'}"></auto-suggest><span class="error-msg" ng-messages="medicineForm.companyName.$error"><span ng-message="required">Company is Required.</span></span></div><div class="grid-md-1 pull-right text-right"><button class="btn btn-sky-blue btn-circle master-add-icons" ng-click="openCompanyForm()"><i class="fa fa-plus"></i></button></div></div></div><div class="row"><label class="grid-md-4" for="drugFormulae">Drug Formula</label><div class="grid-md-8 no-padding"><div class="grid-md-11 pull-left"><auto-suggest suggestions="drugFormulae" class="grid-md-12" clearable="false" search-key="name" output-model="medicine.drugFormulae" display-key="name" options="{\'inputClass\':\'grid-md-12\',\'placeHolder\':\'Drug Formula\',\'fieldName\':\'drugName\',\'isRequired\':\'true\'}"></auto-suggest><span class="error-msg" ng-messages="medicineForm.drugName.$error"><span ng-message="required">Drug Formula is Required.</span></span></div><div class="grid-md-1 pull-right text-right"><button class="btn btn-sky-blue btn-circle master-add-icons" ng-click="openDrugFormulaForm()"><i class="fa fa-plus"></i></button></div></div></div><div class="row"><label class="grid-md-4" for="medicineCategory">Medicine Category</label><div class="grid-md-8 no-padding"><div class="grid-md-11 pull-left"><auto-suggest suggestions="medicineCategories" class="grid-md-12" clearable="false" search-key="category" output-model="medicine.category" display-key="category" options="{\'inputClass\':\'grid-md-12\',\'placeHolder\':\'Medicine Category\',\'fieldName\':\'categoryName\',\'isRequired\':\'true\'}"></auto-suggest><span class="error-msg" ng-messages="medicineForm.categoryName.$error"><span ng-message="required">Category is Required.</span></span></div><div class="grid-md-1 pull-right text-right"><button class="btn btn-sky-blue btn-circle master-add-icons" ng-click="openCategoryForm()"><i class="fa fa-plus"></i></button></div></div></div><div class="row"><label class="grid-md-4" for="medicineCategoryByDoctor">MedicineCategory Doctor</label><div class="grid-md-8 no-padding"><div class="grid-md-11 pull-left"><auto-suggest suggestions="medicineCategoryByDoctor" class="grid-md-12" clearable="false" search-key="categoryName" output-model="medicine.categoryByDoctor" display-key="categoryName" options="{\'inputClass\':\'grid-md-12\',\'placeHolder\':\'Medicine Category By Doctor\',\'fieldName\':\'doctorCategoryName\',\'isRequired\':\'true\'}"></auto-suggest><span class="error-msg" ng-messages="medicineForm.doctorCategoryName.$error"><span ng-message="required">Category By Doctor is Required.</span></span></div><div class="grid-md-1 pull-right text-right"><button class="btn btn-sky-blue btn-circle master-add-icons" ng-click="openDoctorCategoryForm()"><i class="fa fa-plus"></i></button></div></div></div><div class="row"><label class="grid-md-4" for="medicineLocationList">Medicine Location</label><div class="grid-md-8 no-padding"><div class="grid-md-11 pull-left"><auto-suggest suggestions=" medicineLocations" class="grid-md-12" clearable="false" search-key="location" output-model="medicine.location" display-key="location" options="{\'inputClass\':\'grid-md-12\',\'placeHolder\':\'Medicine Location\',\'fieldName\':\'location\',\'isRequired\':\'true\'}"></auto-suggest><span class="error-msg" ng-messages="medicineForm.location.$error"><span ng-message="required">Location is Required.</span></span></div><div class="grid-md-1 pull-right text-right"><button class="btn btn-sky-blue btn-circle master-add-icons" ng-click="openLocationForm()"><i class="fa fa-plus"></i></button></div></div></div><div class="row"><label class="grid-md-4"></label><button class="btn btn-light-green btn-normal" name="medicineFormBtn" click-and-disable="functionToEnableButton()" ng-disabled="medicineForm.$invalid||!medicine.company ||!medicine.drugFormulae||!medicine.category||!medicine.categoryByDoctor|| !medicine.location.id" ng-click="saveMedicine(medicine)">Submit</button></div></form>'),e.put("src/op-patient-form/op-patient-form.tpl.html",'<div class="card grade-linear"><div class="row"><div class="grid-md-4"><div class="row"><div class="grid-md-12"><div class="grade-linear"><form name="opPatientForm" class="grid-md-12 card relative" novalidate><div class="row no-padding op-patient-form-heading"><b>OP Patient Form</b></div><div class="row padding-2px"><label class="grid-md-4" for="patientName">Patient Name*</label><div class="grid-md-8 no-padding"><patient-auto-suggest options="{placeHolder:\'Patient Name\', fieldName:\'patientName\'}" output-model="patient" on-select="checkPatientStatus(selected)"></patient-auto-suggest></div><div ng-if="opPatientIsExist" class="color-red">{{opPatientIsExist}}</div><span class="error-msg" ng-messages="opPatientForm.patientName.$error" ng-messages-multiple><span ng-message="required">*Patient Name is Required.</span> <span ng-message="pattern">*Enter a valid name.</span></span></div><div ng-if="!opPatientIsExist"><div class="row padding-2px"><label class="grid-md-4" for="opType">OP Type*</label><div class="grid-md-8 no-padding"><select ng-model="opPatient.opType" name="opType" class="form-field grid-md-12" required ng-change="setOPCost()" ng-options="optype as optype.opType for optype in opTypes track by optype.id"></select></div></div><div class="row padding-2px"><label class="grid-md-4" for="opType">OP Sub Type*</label><div class="grid-md-8 no-padding"><select ng-model="opPatient.opSubType" name="opSubType" class="form-field grid-md-12" required ng-change="setOPCost()" ng-options="opSubType as opSubType.opSubType for opSubType in opSubTypes track by opSubType.id"></select></div></div><div class="row padding-2px" ng-if="opPatient.opType.id==1 || opPatient.opType.id==2"><label class="grid-md-4" for="cardNo">Card No</label><div class="grid-md-8 relative no-padding"><input ng-model="opPatient.cardNo" disabled class="form-field grid-md-12" name="cardNo" placeholder="Enter Card No" required> <span class="alert-msg" ng-if="opPatientForm.cardNo.$dirty && opPatientForm.cardNo.$error.required">*Enter CardNo</span></div></div><div class="row padding-2px"><label class="grid-md-4" for="consultFee">Conslt. Fee:*</label><div class="grid-md-8 relative no-padding"><input ng-model="opPatient.consultFee" class="form-field grid-md-12" name="consultFee" ng-pattern="/^[0-9]*$/" placeholder="Consultation Fee" required> <span class="alert-msg" ng-if="opPatientForm.consultFee.$dirty && opPatientForm.consultFee.$error.required">*Enter consultFee</span> <span class="alert-msg" ng-if="opPatientForm.consultFee.$dirty && opPatientForm.consultFee.$error.pattern">*Enter Number only</span></div></div><div class="row padding-2px"><label class="grid-md-4" for="height">Ht &nbsp; -- &nbsp; Wt</label><div class="grid-md-8 no-padding"><div class="relative grid-md-5 no-padding pull-left"><input ng-model="opPatient.height" class="form-field grid-md-12" ng-pattern="/^[0-9]*$/" name="height" placeholder="Ht"> <span class="form-field-suffix">cm</span> <span class="alert-msg" ng-if="opPatientForm.height.$dirty && opPatientForm.height.$error.pattern">*Enter Number only</span></div><div class="grid-md-2 no-padding text-center pull-left">--</div><div class="relative grid-md-5 no-padding pull-left"><input ng-model="opPatient.weight" class="form-field grid-md-12" ng-pattern="/^[0-9]*$/" name="weight" placeholder="Wt"> <span class="form-field-suffix">Kg</span> <span class="alert-msg" ng-if="opPatientForm.weight.$dirty && opPatientForm.weight.$error.pattern">*Enter Number only</span></div></div></div><div class="row padding-2px"><label class="grid-md-4" for="temp">Temp. -- Pulse</label><div class="grid-md-8 no-padding"><div class="relative grid-md-5 no-padding pull-left"><input ng-model="opPatient.temperature" class="form-field grid-md-12" name="temp" ng-pattern="/^[0-9]+\\.?[0-9]*$/" placeholder="Temp"> <span class="form-field-suffix"><sup>o</sup>F</span> <span class="alert-msg" ng-if="opPatientForm.temp.$dirty && opPatientForm.temp.$error.pattern">*Enter Number only</span></div><div class="grid-md-2 no-padding text-center pull-left">--</div><div class="relative grid-md-5 no-padding pull-left"><input ng-model="opPatient.pulse" class="form-field grid-md-12" name="pulse" ng-pattern="/^[0-9]*$/" placeholder="Pulse"> <span class="form-field-suffix">BPM</span> <span class="alert-msg" ng-if="opPatientForm.pulse.$dirty && opPatientForm.pulse.$error.pattern">*Enter Number only</span></div><div class="grid-md-3"></div></div></div><div class="row padding-2px"><label class="grid-md-4" for="bp">B.P. &nbsp; --&nbsp; Sugar</label><div class="grid-md-8 no-padding"><div class="relative grid-md-5 no-padding pull-left"><input ng-model="opPatient.bp" class="form-field grid-md-12" ng-pattern="/^[0-9\\/]+$/" name="bp" placeholder="B.P"> <span class="alert-msg" ng-if="opPatientForm.bp.$dirty && opPatientForm.bp.$error.pattern">*Enter Number only</span></div><div class="grid-md-2 no-padding text-center pull-left">--</div><div class="relative grid-md-5 no-padding pull-left"><input ng-model="opPatient.sugar" class="form-field grid-md-12" ng-pattern="/^[0-9]*$/" name="sugar" placeholder="Sugar"> <span class="alert-msg" ng-if="opPatientForm.sugar.$dirty && opPatientForm.sugar.$error.pattern">*Enter Number only</span></div></div></div><div class="row padding-2px"><label class="grid-md-4" for="complaint">Complaint*</label><div class="grid-md-8 relative no-padding"><input name="complaint" ng-pattern="/^[\\w -,]*$/" ng-model="opPatient.complaint" class="form-field grid-md-12" placeholder="Complaint" required> <span class="alert-msg" ng-if="opPatientForm.complaint.$dirty && opPatientForm.complaint.$error.required">*Enter Complaint</span> <span class="alert-msg" ng-if="opPatientForm.complaint.$dirty && opPatientForm.complaint.$error.pattern">*Enter characters only</span></div></div><div class="row no-padding"><div class="grid-md-4"></div><div class="grid-md-8 no-padding"><button class="btn btn-md btn-sky-blue grid-md-12" click-and-disable="functionToEnableButton()" ng-disabled="opPatientForm.$invalid || opPatientIsExist" ng-click="addOpPatient(opPatient)">SAVE</button></div></div><div class="overlay absolute" ng-class="{\'show\':formLoader}"></div><div class="form-loader" ng-class="{\'show\':formLoader}"><i class="fa fa-refresh fa-spin"></i></div></div></form></div></div></div></div><div class="grid-md-8 card padding-5"><div class="row no-padding op-patient-form-heading">Existing Patient Search</div><div><patient-search on-select="onSelectPatient($patient)" on-save="onPatientAdd($patient)" select="select"></patient-search></div></div></div></div>'),e.put("src/patient-form/patient-form.tpl.html",'<style>.borderd{\r\n       border-bottom: 1px solid gray;\r\n    }\r\n    .img-patient{\r\n        width : 200px;\r\n    }</style><h2 align="center">Patient Form</h2><div class="row"><div class="grid-md-8 card"><div class="patientForm-headline borderd"><h3>Add New Patient</h3><div class="pull-right mar-top-44px"><button tc-camera class="btn btn-sky-blue" ng-model="patient.photoString" confirm-text="Confirm">Photo</button></div></div><form name="form.patientForm" class="patientForm margin-10" novalidate><div class="row"><div class="grid-md-1"></div><div class="grid-md-9 no-padding"><div class="row"><label class="grid-md-4" for="patientName">Patient Name*</label><div class="grid-md-8 no-padding"><input id="patientName" class="form-field grid-md-12" name="patientName" placeholder="Patient Name" ng-pattern="/^[a-zA-Z\\s]*$/" ng-model="patient.name" required> <span ng-messages="form.patientForm.patientName.$error" class="alert-msg" ng-messages-multiple><span ng-message="required">*Name is Required.</span> <span ng-message="pattern">*Enter charachters only.</span></span></div></div><div class="row"><label class="grid-md-4" for="aadhar">Aadhar No*</label><div class="grid-md-8 no-padding"><input id="aadhar" class="form-field grid-md-12" name="aadhar" placeholder="Aadhar No" ng-pattern="/^[0-9]*$/" ng-blur="isAdhaarExists(patient.adharNo)" ng-model="patient.aadharNo" ng-maxlength="12" maxlength="12" ng-disabled="isAdhaarDisabled" required> <span class="error-msg">{{adhaarMsg}}</span> <span class="alert-msg" ng-messages="form.patientForm.aadhar.$error" ng-messages-multiple><span ng-message="required">*Aadhar No is Required.</span> <span ng-message="pattern">*Enter valid Number.</span></span></div></div><div class="row"><label class="grid-md-4" for="mobileNo">Mobile No*</label><div class="grid-md-8 no-padding"><input id="mobileNo" class="form-field grid-md-12" name="mobileNo" placeholder="Mobile No" ng-model="patient.mobileNo" ng-pattern="/^[0-9]*$/" ng-maxlength="10" maxlength="10" required> <span class="alert-msg" ng-messages="form.patientForm.mobileNo.$error" ng-messages-multiple><span ng-message="required">*Mobile No is Required.</span> <span ng-message="pattern">*Enter 10 digits Mobile Number.</span></span></div></div><div class="row"><label class="grid-md-4" for="altMobileNo">Alt No</label><div class="grid-md-8 no-padding"><input id="altMobileNo" class="form-field grid-md-12" name="altMobileNo" placeholder="Alt Mobile No" ng-model="patient.alternateNo" ng-pattern="/^[0-9]*$/" ng-maxlength="10" maxlength="10"></div></div><div class="row"><label class="grid-md-4" for="altMobileNo">Emergency No</label><div class="grid-md-8 no-padding"><input id="emergencyNo" class="form-field grid-md-12" name="emergencyNo" placeholder="Emergency No" ng-model="patient.emergencyNo" ng-pattern="/^[0-9]*$/" ng-maxlength="10" maxlength="10"></div></div><div class="row"><label class="grid-md-4" for="village">Village*</label><div class="grid-md-8 no-padding"><input id="village" class="form-field grid-md-12" ng-pattern="/^[a-zA-Z]*$/" name="village" placeholder="Village" ng-model="patient.village" required> <span class="alert-msg" ng-messages="form.patientForm.village.$error" ng-messages-multiple><span ng-message="required">*Village is Required.</span> <span ng-message="pattern">*Enter a valid name.</span></span></div></div><div class="row"><label class="grid-md-4" for="dob">DOB -- Age*</label><div class="grid-md-8 no-padding"><div class="row no-padding"><div class="grid-md-6 no-padding relative"><tc-date-picker placeholder="Choose a date" ng-model="patient.dob" ng-change="getAgeFromDob(patient.dob)"></tc-date-picker></div><span class="grid-md-1 no-padding text-center">--</span><div class="grid-md-5 no-padding"><input class="grid-md-12 form-field" name="age" ng-change="getDateFromAge(patient.age)" placeholder="Age" ng-model="patient.age" required> <span class="alert-msg" ng-messages="form.patientForm.age.$error" ng-messages-multiple><span ng-message="required">*Age is Required.</span> <span ng-message="pattern">*Enter a valid Age.</span></span></div></div></div></div><div class="row"><label class="grid-md-4" for="gender-rltn">Gender -- Relation</label><div class="grid-md-8 no-padding"><div class="row no-padding"><div class="grid-md-4 no-padding show-inline"><select class="grid-md-12 form-field" ng-model="patient.gender" ng-options="genderType for genderType in genderTypes"></select></div><label class="grid-md-1 text-center show-inline no-padding" for="relationType">--</label><div class="grid-md-3 no-padding show-inline"><select class="grid-md-12 form-field" ng-model="patient.relationType" ng-options="relationType for relationType in relationTypes"></select></div><div class="grid-md-4 no-padding pull-right"><input id="relationName" class="form-field grid-md-12" name="age" placeholder="Relation Name" ng-model="patient.relationName"></div></div></div></div><div class="row"><label class="grid-md-4"></label><button class="btn btn-light-green" name="patientFormBtn" ng-disabled="form.patientForm.$invalid || adhaarMsg" ng-click="addPatient();">{{patient.id? \'Update\': \'Save\'}}</button></div></div><div class="grid-md-1"></div></div></form></div><div class="grid-md-4"><div ng-if="!patient.id"><img class="grid-md-12" ng-src="{{patient.photoString}}" alt="Click capture to see preview"></div><div ng-if="patient.id && !patient.photoString"><img ng-src="./patient/getphoto?patientId={{ patient.id }}" class="img-patient" style="border:2px solid gray"></div><div ng-if="patient.id && patient.photoString"><img ng-src="{{patient.photoString}}" class="img-patient" style="border:2px solid gray"></div></div></div>')}]);